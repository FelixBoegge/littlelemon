{% extends 'base.html' %}
{% load static %}

{% block content %}
<section>
  <article>
    <h1>Sign Up</h1>
    <!--Begin row-->
    <div class="row">
      <!--Begin col-->
      <div class="column">
          <form method="POST" id="form">
            {% csrf_token %}
            <p>
              <label for="username">Username:</label>
              <input type="text" placeholder="Username" maxlength="100" required="true" id="username">
            </p>
            <p>
              <label for="first_name">First Name:</label>
              <input type="text" placeholder="Your First Name" maxlength="100" required="true" id="first_name">
            </p>
            <p>
              <label for="last_name">Last Name:</label>
              <input type="text" placeholder="Your Last Name" maxlength="100" required="true" id="last_name">
            </p>
            <p>
              <label for="email">Email Address:</label>
              <input type="text" placeholder="Your Email Address" maxlength="100" required="true" id="email">
            </p>
            <p>
              <label for="password">Password:</label>
              <input type="password" placeholder="Your Password" maxlength="255" required="true" id="password">
            </p>
            <button type="button" id="button" input type="reset">Sign Up</button>
          </form>
      </div>
    </div>
  </article>
</section>

<script>

    document.getElementById('button').addEventListener('click', function (e) {
        const formdata = {
            username: document.getElementById('username').value,
            first_name: document.getElementById('first_name').value,
            last_name: document.getElementById('last_name').value,
            email: document.getElementById('email').value,
            password: document.getElementById('password').value,
        }
        document.getElementById("form").reset();

        //fetch("{% url 'users' %}", { method: 'post', body: JSON.stringify(formdata) })
        //fetch("{% url 'bookings' %}", { mehtod: 'post', body: formdata})
        fetch("{% url 'auth/users/' %}", {method: 'post', body: formdata})
        .then(r => r.json())
        .then(data => {})
    })

</script>
{% endblock %}